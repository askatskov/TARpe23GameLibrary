{
  "swagger": "2.0",
  "info": {
    "title": "GameLibrary",
    "version": "1.0",
    "description": "### This is a Swagger UI for our GameLibrary  \n\n### Error handling\nErrors are presented using the HTTP status codes 400-599. The response include a more detailed explanation about the error in the body.\n\n```\n{\n  \"error\": \"Cleartext explanation of the error that occurred\"\n}\n\n### Generic API errors\nThese error responses can be returned by any of the described endpoints.\n\n| HTTP status  |  Description |\n|---|---|\n| 400| Bad input parameters or invalid request. More information can be found in the response body.\n| 401| The consumer does not have access to the requested resource or the provided token is not valid.\n| 404| The requested resource can not be found or the user does not have access to the resource.\n| 5XX| A server error has occurred while processing the request."
  },
  "basePath": "/api/v1",
  "paths": {
    "/games": {
      "get": {
        "produces": ["application/json"],
        "tags": ["Games"],
        "responses": {
          "200": {
            "description": "List of games",
            "schema": {
              "type": "array",
              "items": { "$ref": "#/definitions/GamesListItem" }
            }
          }
        },
        "summary": "Get all games"
      },
      "post": {
        "consumes": ["application/json"],
        "produces": ["application/json"],
        "tags": ["Games"],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "description": "Game to be created - without ID",
            "schema": { "$ref": "#/definitions/NewGame" }
          }
        ],
        "responses": {
          "201": {
            "description": "Created game",
            "schema": { "$ref": "#/definitions/Game" }
          }
        },
        "summary": "Create game"
      }
    },
    "/games/{id}": {
      "get": {
        "produces": ["application/json"],
        "tags": ["Games"],
        "parameters": [
          { "name": "id", "in": "path", "required": true, "type": "number" }
        ],
        "responses": {
          "200": {
            "description": "Return the requested Game details",
            "schema": { "$ref": "#/definitions/Game" }
          },
          "404": { "description": "Game not found" }
        },
        "summary": "Get a game"
      },
      "put": {
        "consumes": ["application/json"],
        "produces": ["application/json"],
        "tags": ["Games"],
        "parameters": [
          { "name": "id", "in": "path", "required": true, "type": "number" },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "description": "Game with data to be updated",
            "schema": { "$ref": "#/definitions/Game" }
          }
        ],
        "responses": {
          "200": {
            "description": "Game updated",
            "schema": { "$ref": "#/definitions/Game" }
          }
        },
        "summary": "Update game with given values"
      },
      "delete": {
        "produces": ["application/json"],
        "tags": ["Games"],
        "parameters": [
          { "name": "id", "in": "path", "required": true, "type": "number" }
        ],
        "responses": {
          "204": { "description": "Game deleted" },
          "404": {
            "description": "Game not found",
            "schema": { "$ref": "#/definitions/Error" }
          }
        },
        "summary": "Delete game"
      }
    }
  },
  "definitions": {
    "GamesListItem": {
      "type": "object",
      "properties": {
        "id": { "type": "integer", "format": "int32" },
        "name": { "type": "string" }
      },
      "example": { "id": 1, "name": "Minecraft" }
    },
    "Game": {
      "type": "object",
      "properties": {
        "id": { "type": "integer", "format": "int32" },
        "name": { "type": "string" },
        "developer": { "type": "string" },
        "releaseDate": { "type": "string", "format": "date-time" },
        "price": { "type": "number", "format": "double" }
      },
      "example": {
        "id": 1,
        "name": "Minecraft",
        "developer": "Mojang",
        "releaseDate": "2011-11-18T00:00:00.000Z",
        "price": 29.99
      }
    },
    "Error": {
      "type": "object",
      "properties": { "error": { "type": "string" } },
      "example": { "error": "Error message" }
    },
    "NewGame": {
      "type": "object",
      "required": ["name"],
      "properties": {
        "name": { "type": "string", "description": "Required, unique" },
        "developer": { "type": "string", "description": "Optional" },
        "releaseDate": {
          "type": "string",
          "format": "date-time",
          "description": "Optional"
        },
        "price": {
          "type": "number",
          "format": "double",
          "description": "Optional"
        }
      },
      "example": {
        "name": "Minecraft",
        "developer": "Mojang",
        "releaseDate": "2011-11-18T00:00:00.000Z",
        "price": 29.99
      }
    }
  }
}
